__NUXT_JSONP__("/articles/login-from-live-disk", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae){return {data:[{article:{slug:"login-from-live-disk",description:"Access an installed OS from a Live Disk\u002FRecovery.\n",title:G,keywords:["recovery","reset","locked out","crash","reinstall","refresh","repair"],facebookImage:"\u002F_nuxt\u002Fimages\u002Flogin-from-live-disk-facebookImage.jpg",twitterImage:"\u002F_nuxt\u002Fimages\u002Flogin-from-live-disk-twitterImage.jpg",hidden:false,section:"software-troubleshooting",tableOfContents:true,toc:[{id:Q,depth:R,text:G},{id:S,depth:T,text:U},{id:x,depth:R,text:V},{id:W,depth:T,text:X}],body:{type:"root",children:[{type:b,tag:Y,props:{id:Q},children:[{type:b,tag:q,props:{href:"#log-in-from-live-disk-chroot",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:G}]},{type:a,value:d},{type:b,tag:f,props:{},children:[{type:a,value:"It is possible to mount an OS drive and log into the installed OS with root access. This is called gaining \"chroot\" (change to root) access. This process is useful when "},{type:b,tag:l,props:{to:"\u002Farticles\u002Fdisaster-recovery"},children:[{type:a,value:"rescuing files"}]},{type:a,value:", "},{type:b,tag:l,props:{to:"\u002Farticles\u002Fpackage-manager-pop"},children:[{type:a,value:"fixing package manager issues"}]},{type:a,value:", or "},{type:b,tag:l,props:{to:"\u002Farticles\u002Fpassword"},children:[{type:a,value:"resetting forgotten user passwords"}]},{type:a,value:H}]},{type:a,value:d},{type:b,tag:r,props:{},children:[{type:a,value:d},{type:b,tag:f,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:Z}]},{type:a,value:": The live environment will not have your WiFi password saved. Once booted into the live environment, you will need to reconnect manually to your WiFi in order to access the internet."}]},{type:a,value:d}]},{type:a,value:d},{type:b,tag:f,props:{},children:[{type:a,value:"You'll need a Live OS Environment from which to mount your drive, and log in. This can be done from a "},{type:b,tag:l,props:{to:"\u002Farticles\u002Flive-disk"},children:[{type:a,value:"live USB"}]},{type:a,value:", or on Pop!_OS from the "},{type:b,tag:l,props:{to:"\u002Farticles\u002Fpop-recovery"},children:[{type:a,value:"recovery partition"}]},{type:a,value:".\nBoot the computer while holding down the "},{type:b,tag:l,props:{to:"\u002Farticles\u002Fboot-menu"},children:[{type:a,value:"boot menu key for your system"}]},{type:a,value:", or the "},{type:b,tag:m,props:{},children:[{type:a,value:"SPACE"}]},{type:a,value:" bar to access Systemd, and the Pop!_OS Recovery partition."}]},{type:a,value:d},{type:b,tag:f,props:{},children:[{type:a,value:"Once booted into the Live Environment, press "},{type:b,tag:m,props:{},children:[{type:a,value:"SUPER"}]},{type:a,value:I},{type:b,tag:m,props:{},children:[{type:a,value:_}]},{type:a,value:" to open a terminal (Pop!_OS), or "},{type:b,tag:m,props:{},children:[{type:a,value:"CTRL"}]},{type:a,value:I},{type:b,tag:m,props:{},children:[{type:a,value:"ALT"}]},{type:a,value:I},{type:b,tag:m,props:{},children:[{type:a,value:_}]},{type:a,value:" (Ubuntu) then type this command:"}]},{type:a,value:d},{type:b,tag:s,props:{className:[t]},children:[{type:b,tag:u,props:{className:[v],style:w},children:[{type:b,tag:e,props:{},children:[{type:b,tag:c,props:{className:[g]},children:[{type:b,tag:c,props:{style:h},children:[{type:a,value:$}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[g]},children:[]}]}]}]},{type:a,value:d},{type:b,tag:f,props:{},children:[{type:a,value:"This will show you the name of the main internal drive, which will have 4 partitions (Pop!_OS), or 3 (Ubuntu) on it.  We will be working with the 3rd partition.  If the main drive is an NVMe drive, it will be called "},{type:b,tag:e,props:{},children:[{type:a,value:"\u002Fdev\u002Fnvme0n1p3"}]},{type:a,value:" (p2 on Ubuntu) and if the drive is a SATA or regular M.2 drive, it will be called "},{type:b,tag:e,props:{},children:[{type:a,value:aa}]},{type:a,value:" (sda2 on Ubuntu)."}]},{type:a,value:d},{type:b,tag:r,props:{},children:[{type:a,value:d},{type:b,tag:f,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:C}]},{type:a,value:" The rest of these instructions assume partition labeling consistent with a Pop!_OS install. For an Ubuntu install, change the partition number accordingly; the instructions are otherwise the same."}]},{type:a,value:d}]},{type:a,value:d},{type:b,tag:f,props:{},children:[{type:a,value:"Next, run this command:"}]},{type:a,value:J},{type:b,tag:K,props:{},children:[{type:b,tag:L,props:{},children:[{type:b,tag:n,props:{},children:[{type:b,tag:o,props:{align:j},children:[{type:b,tag:i,props:{},children:[{type:a,value:M}]}]},{type:b,tag:o,props:{align:j},children:[{type:b,tag:i,props:{},children:[{type:a,value:N}]}]}]}]},{type:b,tag:O,props:{},children:[{type:b,tag:n,props:{},children:[{type:b,tag:p,props:{align:j},children:[{type:b,tag:e,props:{},children:[{type:a,value:"sudo mount \u002Fdev\u002Fsda3 \u002Fmnt"}]}]},{type:b,tag:p,props:{align:j},children:[{type:b,tag:e,props:{},children:[{type:a,value:"sudo mount \u002Fdev\u002Fnvme0n1p3 \u002Fmnt"}]}]}]}]}]},{type:a,value:d},{type:b,tag:f,props:{},children:[{type:a,value:"If the command fails and says "},{type:b,tag:e,props:{},children:[{type:a,value:"mount: \u002Fmnt: unknown filesystem type 'crypto_LUKS'"}]},{type:a,value:", then the hard drive has been encrypted, and additional commands are needed to unlock it."}]},{type:a,value:d},{type:b,tag:ab,props:{id:S},children:[{type:b,tag:q,props:{href:"#encrypted-disk",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:U}]},{type:a,value:d},{type:b,tag:f,props:{},children:[{type:a,value:"To access an encrypted disk, run these additional commands to unlock the encrypted volume."}]},{type:a,value:d},{type:b,tag:r,props:{},children:[{type:a,value:d},{type:b,tag:f,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:Z}]},{type:a,value:": The drive names listed below (e.g. "},{type:b,tag:e,props:{},children:[{type:a,value:aa}]},{type:a,value:") may not match your drive configuration. Use the "},{type:b,tag:e,props:{},children:[{type:a,value:$}]},{type:a,value:" command described above to determine the correct drive and partition."}]},{type:a,value:d}]},{type:a,value:J},{type:b,tag:K,props:{},children:[{type:b,tag:L,props:{},children:[{type:b,tag:n,props:{},children:[{type:b,tag:o,props:{align:j},children:[{type:b,tag:i,props:{},children:[{type:a,value:M}]}]},{type:b,tag:o,props:{align:j},children:[{type:b,tag:i,props:{},children:[{type:a,value:N}]}]}]}]},{type:b,tag:O,props:{},children:[{type:b,tag:n,props:{},children:[{type:b,tag:p,props:{align:j},children:[{type:b,tag:e,props:{},children:[{type:a,value:"sudo cryptsetup luksOpen \u002Fdev\u002Fsda3 cryptdata"}]}]},{type:b,tag:p,props:{align:j},children:[{type:b,tag:e,props:{},children:[{type:a,value:"sudo cryptsetup luksOpen \u002Fdev\u002Fnvme0n1p3 cryptdata"}]}]}]}]}]},{type:a,value:d},{type:b,tag:r,props:{},children:[{type:a,value:d},{type:b,tag:f,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:C}]},{type:a,value:" You will see \"Enter passphrase for \u002Fdev\u002Fnvme0n1p3 (or the name of your exact drive):\" - Enter your encryption password here. You will \"enter this blind,\" i.e. you won't see the characters typed out. Then press Enter."}]},{type:a,value:d}]},{type:a,value:d},{type:b,tag:s,props:{className:[t]},children:[{type:b,tag:u,props:{className:[v],style:w},children:[{type:b,tag:e,props:{},children:[{type:b,tag:c,props:{className:[g]},children:[{type:b,tag:c,props:{style:D},children:[{type:a,value:"# scan for logical volumes"}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[g]},children:[{type:b,tag:c,props:{style:h},children:[{type:a,value:"sudo lvscan"}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[g]},children:[{type:b,tag:c,props:{style:D},children:[{type:a,value:"# scan and setup volume groups"}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[g]},children:[{type:b,tag:c,props:{style:h},children:[{type:a,value:"sudo vgchange -ay"}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[g]},children:[]}]}]}]},{type:a,value:d},{type:b,tag:r,props:{},children:[{type:a,value:d},{type:b,tag:f,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:C}]},{type:a,value:" Pay attention to what the "},{type:b,tag:e,props:{},children:[{type:a,value:"cryptdata"}]},{type:a,value:" group is called. If it is named something other than "},{type:b,tag:e,props:{},children:[{type:a,value:"data-root"}]},{type:a,value:", substitute the correct info into this next command.  Make sure that "},{type:b,tag:e,props:{},children:[{type:a,value:"-root"}]},{type:a,value:" is on the end:"}]},{type:a,value:d}]},{type:a,value:d},{type:b,tag:s,props:{className:[t]},children:[{type:b,tag:u,props:{className:[v],style:w},children:[{type:b,tag:e,props:{},children:[{type:b,tag:c,props:{className:[g]},children:[{type:b,tag:c,props:{style:D},children:[{type:a,value:"# setup access to the encrypted file system on '\u002Fmnt'"}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[g]},children:[{type:b,tag:c,props:{style:h},children:[{type:a,value:"sudo mount \u002Fdev\u002Fmapper\u002Fdata-root \u002Fmnt"}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[g]},children:[]}]}]}]},{type:a,value:d},{type:b,tag:f,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:C}]},{type:a,value:" If you want to backup your files, you can do so at this point in the process if you don't already have a "},{type:b,tag:l,props:{to:"\u002Farticles\u002Fbackup-files\u002F"},children:[{type:a,value:"backup of your data"}]}]},{type:a,value:d},{type:b,tag:Y,props:{id:x},children:[{type:b,tag:q,props:{href:"#chroot",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:V}]},{type:a,value:d},{type:b,tag:f,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:x}]},{type:a,value:" is the way to run commands as if the existing operating system had been booted.  Once these commands are run, then package manager ("},{type:b,tag:e,props:{},children:[{type:a,value:"apt"}]},{type:a,value:") and other system-level commands can be run."}]},{type:a,value:d},{type:b,tag:f,props:{},children:[{type:a,value:"The EFI partition is the next partition to be mounted. To help identify it, this partition is usually around 512MB, and is labeled as "},{type:b,tag:e,props:{},children:[{type:a,value:"\u002Fboot\u002Fefi"}]},{type:a,value:H}]},{type:a,value:J},{type:b,tag:K,props:{},children:[{type:b,tag:L,props:{},children:[{type:b,tag:n,props:{},children:[{type:b,tag:o,props:{align:j},children:[{type:b,tag:i,props:{},children:[{type:a,value:M}]}]},{type:b,tag:o,props:{align:j},children:[{type:b,tag:i,props:{},children:[{type:a,value:N}]}]}]}]},{type:b,tag:O,props:{},children:[{type:b,tag:n,props:{},children:[{type:b,tag:p,props:{align:j},children:[{type:b,tag:e,props:{},children:[{type:a,value:"sudo mount \u002Fdev\u002Fsda1 \u002Fmnt\u002Fboot\u002Fefi"}]}]},{type:b,tag:p,props:{align:j},children:[{type:b,tag:e,props:{},children:[{type:a,value:"sudo mount \u002Fdev\u002Fnvme0n1p1 \u002Fmnt\u002Fboot\u002Fefi"}]}]}]}]}]},{type:a,value:d},{type:b,tag:s,props:{className:[t]},children:[{type:b,tag:u,props:{className:[v],style:w},children:[{type:b,tag:e,props:{},children:[{type:b,tag:c,props:{className:[g]},children:[{type:b,tag:c,props:{style:D},children:[{type:a,value:"# mount several \"kernel\" virtual file systems from the live system to '\u002Fmnt\u002F'"}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[g]},children:[{type:b,tag:c,props:{style:k},children:[{type:a,value:"for"}]},{type:b,tag:c,props:{style:h},children:[{type:a,value:E}]},{type:b,tag:c,props:{style:F},children:[{type:a,value:P}]},{type:b,tag:c,props:{style:h},children:[{type:a,value:E}]},{type:b,tag:c,props:{style:k},children:[{type:a,value:"in"}]},{type:b,tag:c,props:{style:h},children:[{type:a,value:" \u002Fdev \u002Fdev\u002Fpts \u002Fproc \u002Fsys \u002Frun"}]},{type:b,tag:c,props:{style:k},children:[{type:a,value:ac}]},{type:b,tag:c,props:{style:h},children:[{type:a,value:E}]},{type:b,tag:c,props:{style:k},children:[{type:a,value:"do"}]},{type:b,tag:c,props:{style:h},children:[{type:a,value:" sudo mount -B "}]},{type:b,tag:c,props:{style:k},children:[{type:a,value:ad}]},{type:b,tag:c,props:{style:F},children:[{type:a,value:P}]},{type:b,tag:c,props:{style:h},children:[{type:a,value:" \u002Fmnt"}]},{type:b,tag:c,props:{style:k},children:[{type:a,value:ad}]},{type:b,tag:c,props:{style:F},children:[{type:a,value:P}]},{type:b,tag:c,props:{style:k},children:[{type:a,value:ac}]},{type:b,tag:c,props:{style:h},children:[{type:a,value:E}]},{type:b,tag:c,props:{style:k},children:[{type:a,value:"done"}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[g]},children:[{type:b,tag:c,props:{style:h},children:[{type:a,value:"sudo chroot \u002Fmnt"}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[g]},children:[]}]}]}]},{type:a,value:d},{type:b,tag:f,props:{},children:[{type:a,value:"With this last command, you will have root access to your installed system. Once the drive is accessed, commands for maintenance can be run on the installed system. For example, "},{type:b,tag:q,props:{href:"article\u002Fpackage-manager-pop"},children:[{type:a,value:"package manager repair commands"}]},{type:a,value:". You can also access your files with "},{type:b,tag:"u",props:{},children:[{type:a,value:"Files"}]},{type:a,value:" via "},{type:b,tag:e,props:{},children:[{type:a,value:"+ Other Locations"}]},{type:a,value:ae},{type:b,tag:e,props:{},children:[{type:a,value:"Computer"}]},{type:a,value:ae},{type:b,tag:e,props:{},children:[{type:a,value:"\u002Fmnt"}]},{type:a,value:H}]},{type:a,value:d},{type:b,tag:ab,props:{id:W},children:[{type:b,tag:q,props:{href:"#after-chroot",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:X}]},{type:a,value:d},{type:b,tag:f,props:{},children:[{type:a,value:"Once you are done accessing files or running commands in your installed OS, you can exit from "},{type:b,tag:e,props:{},children:[{type:a,value:x}]},{type:a,value:" and reboot the computer, by running these commands:"}]},{type:a,value:d},{type:b,tag:s,props:{className:[t]},children:[{type:b,tag:u,props:{className:[v],style:w},children:[{type:b,tag:e,props:{},children:[{type:b,tag:c,props:{className:[g]},children:[{type:b,tag:c,props:{style:F},children:[{type:a,value:"exit"}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[g]},children:[{type:b,tag:c,props:{style:h},children:[{type:a,value:"reboot"}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[g]},children:[]}]}]}]}]},dir:"\u002F",path:"\u002Flogin-from-live-disk",extension:".md",createdAt:"2021-11-10T23:35:51.000Z",updatedAt:"2023-10-06T16:16:23.000Z",authors:[{username:"thomas-zimmerman",commitUrl:"https:\u002F\u002Fgithub.com\u002Fsystem76\u002Fdocs\u002Fcommit\u002Fbbb2d988835aa4dc73a50df3505366ed046edfe1",avatarUrl:"https:\u002F\u002Favatars.githubusercontent.com\u002Fu\u002F41023059?v=4",profileUrl:"https:\u002F\u002Fgithub.com\u002Fthomas-zimmerman"},{username:"Ampersandstorm",commitUrl:"https:\u002F\u002Fgithub.com\u002Fsystem76\u002Fdocs\u002Fcommit\u002F00345938ac5b3f5ba0d028b3a59634393c9cd4a3",avatarUrl:"https:\u002F\u002Favatars.githubusercontent.com\u002Fu\u002F80931038?v=4",profileUrl:"https:\u002F\u002Fgithub.com\u002FAmpersandstorm"},{username:"storyaddict",commitUrl:"https:\u002F\u002Fgithub.com\u002Fsystem76\u002Fdocs\u002Fcommit\u002F9ab158af59295b7937000e429d48012ea0aa8331",avatarUrl:"https:\u002F\u002Favatars.githubusercontent.com\u002Fu\u002F55410594?v=4",profileUrl:"https:\u002F\u002Fgithub.com\u002Fstoryaddict"}]},_img:{}}],fetch:{},mutations:void 0}}("text","element","span","\n","code","p","line","color: var(--code-0F)","strong","center","color: var(--code-0A)","nuxt-link","kbd","tr","th","td","a","blockquote","div","nuxt-content-highlight","pre","shiki","background-color: var(--code-00)","chroot","true",-1,"icon","icon-link","Note:","color: #657B83"," ","color: var(--code-0C)","Log in from Live Disk (Chroot)",".","+","\n\n\n\n\n\n\n\n\n\n\n\n\n\n","table","thead","SATA Drives","NVMe Drives","tbody","i","log-in-from-live-disk-chroot",2,"encrypted-disk",3,"Encrypted Disk","Chroot","after-chroot","After Chroot","h2","Note","T","lsblk","\u002Fdev\u002Fsda3","h3",";","$"," -\u003E ")));