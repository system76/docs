__NUXT_JSONP__("/articles/password", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T){return {data:[{article:{slug:C,description:"Forgot your main password?  Locked out of your computer? Need to change your encryption passphrase? Follow these instructions to change both!\n",title:"Change User Password and LUKS Passphrase",keywords:[C,"reset","locked out","crash","pop",t],facebookImage:"\u002F_nuxt\u002Fimages\u002Fpassword-facebookImage.jpg",twitterImage:"\u002F_nuxt\u002Fimages\u002Fpassword-twitterImage.jpg",hidden:false,section:"software",tableOfContents:true,toc:[{id:D,depth:u,text:E},{id:F,depth:v,text:G},{id:t,depth:v,text:H},{id:I,depth:u,text:J},{id:K,depth:u,text:L},{id:M,depth:v,text:N}],body:{type:"root",children:[{type:a,tag:w,props:{id:D},children:[{type:a,tag:n,props:{href:"#changing-user-password",ariaHidden:o,tabIndex:p},children:[{type:a,tag:d,props:{className:[q,r]},children:[]}]},{type:b,value:E}]},{type:b,value:c},{type:a,tag:f,props:{},children:[{type:b,value:"If you can't log into your computer, you can follow these instructions to reset the password for any user. Pop!_OS and Ubuntu allow for the root user to reset the password for any user account. In order to get to the root user, we need to restart the computer and use what's called \"single user mode\", which is the low level repair system for the computer."}]},{type:b,value:c},{type:a,tag:x,props:{id:F},children:[{type:a,tag:n,props:{href:"#pop_os-1804-and-later",ariaHidden:o,tabIndex:p},children:[{type:a,tag:d,props:{className:[q,r]},children:[]}]},{type:b,value:G}]},{type:b,value:c},{type:a,tag:f,props:{},children:[{type:b,value:"On a fresh install Pop!_OS 18.04 and later, "},{type:a,tag:y,props:{},children:[{type:b,value:z}]},{type:b,value:" is used rather than "},{type:a,tag:y,props:{},children:[{type:b,value:O}]},{type:b,value:".  Please follow these instructions to reset your password.  If your operating system is anything other than Pop!_OS 18.04 and later, please use the "},{type:a,tag:n,props:{href:"#grub"},children:[{type:b,value:O}]},{type:b,value:" section."}]},{type:b,value:c},{type:a,tag:f,props:{},children:[{type:b,value:"First, bring up the "},{type:a,tag:y,props:{},children:[{type:b,value:z}]},{type:b,value:" menu by holding down "},{type:a,tag:s,props:{},children:[{type:b,value:"SPACE"}]},{type:b,value:" or the "},{type:a,tag:s,props:{},children:[{type:b,value:"ESC"}]},{type:b,value:" key.  On the menu, choose "},{type:a,tag:"strong",props:{},children:[{type:b,value:"Recovery Mode"}]},{type:b,value:P}]},{type:b,value:c},{type:a,tag:f,props:{},children:[{type:a,tag:"nuxt-picture",props:{alt:z,src:"\u002Fimages\u002Fpassword\u002Fsystemd-boot.png"},children:[]}]},{type:b,value:c},{type:a,tag:f,props:{},children:[{type:b,value:"Once the live disk boots move to a new workspace, to do this on Ubuntu use the Activities button in the top left and on Pop!_OS use the Workspaces button in the top left (be sure not to choose any install or repair options in the installer window, as this could result in data loss)."}]},{type:b,value:c},{type:a,tag:x,props:{id:t},children:[{type:a,tag:n,props:{href:"#ubuntu",ariaHidden:o,tabIndex:p},children:[{type:a,tag:d,props:{className:[q,r]},children:[]}]},{type:b,value:H}]},{type:b,value:c},{type:a,tag:f,props:{},children:[{type:b,value:"If you are using Ubuntu we can boot from a live disk and "},{type:a,tag:Q,props:{to:"\u002Farticles\u002Flive-disk"},children:[{type:b,value:"here"}]},{type:b,value:" are instructions for creating the live disk. Once the live disk has been created refer to this "},{type:a,tag:Q,props:{to:"\u002Farticles\u002Fboot-menu"},children:[{type:b,value:"article"}]},{type:b,value:" for booting from the live disk."}]},{type:b,value:c},{type:a,tag:A,props:{id:"mounting-the-installed-os"},children:[{type:a,tag:n,props:{href:"#mounting-the-installed-os",ariaHidden:o,tabIndex:p},children:[{type:a,tag:d,props:{className:[q,r]},children:[]}]},{type:b,value:"Mounting the Installed OS"}]},{type:b,value:c},{type:a,tag:f,props:{},children:[{type:b,value:"On Pop!_OS press "},{type:a,tag:s,props:{},children:[{type:a,tag:R,props:{":icon":"['fab', 'pop-os']"},children:[]}]},{type:b,value:B},{type:a,tag:s,props:{},children:[{type:b,value:S}]},{type:b,value:" or on Ubuntu press "},{type:a,tag:s,props:{},children:[{type:a,tag:R,props:{":icon":"['fab', 'ubuntu']"},children:[]}]},{type:b,value:B},{type:a,tag:s,props:{},children:[{type:b,value:"Alt"}]},{type:b,value:B},{type:a,tag:s,props:{},children:[{type:b,value:S}]},{type:b,value:" to open a terminal, and type in these commands:"}]},{type:b,value:c},{type:a,tag:i,props:{className:[j]},children:[{type:a,tag:k,props:{className:[l],style:m},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{className:[e]},children:[{type:a,tag:d,props:{style:h},children:[{type:b,value:"lsblk"}]}]},{type:b,value:c},{type:a,tag:d,props:{className:[e]},children:[]}]}]}]},{type:b,value:c},{type:a,tag:f,props:{},children:[{type:b,value:"This will show what the main internal drive is named, which will have 4 partitions on it.  We will be working with the 3rd partition.  If the main drive is an NVMe drive, it will be "},{type:a,tag:g,props:{},children:[{type:b,value:"\u002Fdev\u002Fnvme0n1p3"}]},{type:b,value:" and if the drive is a SATA or regular M.2 drive, it will be "},{type:a,tag:g,props:{},children:[{type:b,value:"\u002Fdev\u002Fsda3"}]},{type:b,value:P}]},{type:b,value:c},{type:a,tag:f,props:{},children:[{type:b,value:"Next, run this command:"}]},{type:b,value:c},{type:a,tag:i,props:{className:[j]},children:[{type:a,tag:k,props:{className:[l],style:m},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{className:[e]},children:[{type:a,tag:d,props:{style:h},children:[{type:b,value:"sudo mount \u002Fdev\u002Fsda3 \u002Fmnt"}]}]},{type:b,value:c},{type:a,tag:d,props:{className:[e]},children:[]}]}]}]},{type:b,value:c},{type:a,tag:f,props:{},children:[{type:b,value:"If the command fails and says "},{type:a,tag:g,props:{},children:[{type:b,value:"mount: \u002Fmnt: unknown filesystem type 'crypto_LUKS'"}]},{type:b,value:", then the hard drive has been encrypted, and additional commands are needed to unlock it.  If the command succeeds (no output), then skip these next steps:"}]},{type:b,value:c},{type:a,tag:i,props:{className:[j]},children:[{type:a,tag:k,props:{className:[l],style:m},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{className:[e]},children:[{type:a,tag:d,props:{style:h},children:[{type:b,value:"sudo cryptsetup luksOpen \u002Fdev\u002Fsda3 volume"}]}]},{type:b,value:c},{type:a,tag:d,props:{className:[e]},children:[{type:a,tag:d,props:{style:h},children:[{type:b,value:"sudo lvscan"}]}]},{type:b,value:c},{type:a,tag:d,props:{className:[e]},children:[{type:a,tag:d,props:{style:h},children:[{type:b,value:"sudo vgchange -ay"}]}]},{type:b,value:c},{type:a,tag:d,props:{className:[e]},children:[]}]}]}]},{type:b,value:c},{type:a,tag:f,props:{},children:[{type:b,value:"Take note as to what the volume group is called, substituting the correct info into this command.  Make sure that '-root' is on the end:"}]},{type:b,value:c},{type:a,tag:i,props:{className:[j]},children:[{type:a,tag:k,props:{className:[l],style:m},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{className:[e]},children:[{type:a,tag:d,props:{style:h},children:[{type:b,value:"sudo mount \u002Fdev\u002Fmapper\u002Fdata-root \u002Fmnt"}]}]},{type:b,value:c},{type:a,tag:d,props:{className:[e]},children:[]}]}]}]},{type:b,value:c},{type:a,tag:f,props:{},children:[{type:b,value:"Next, regardless of whether the drive is encrypted or not, run these commands:"}]},{type:b,value:c},{type:a,tag:i,props:{className:[j]},children:[{type:a,tag:k,props:{className:[l],style:m},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{className:[e]},children:[{type:a,tag:d,props:{style:h},children:[{type:b,value:"sudo chroot \u002Fmnt"}]}]},{type:b,value:c},{type:a,tag:d,props:{className:[e]},children:[{type:a,tag:d,props:{style:h},children:[{type:b,value:"ls \u002Fhome"}]}]},{type:b,value:c},{type:a,tag:d,props:{className:[e]},children:[]}]}]}]},{type:b,value:c},{type:a,tag:f,props:{},children:[{type:b,value:"Take note of the users on this computer, then run this command to change a user's password:"}]},{type:b,value:c},{type:a,tag:i,props:{className:[j]},children:[{type:a,tag:k,props:{className:[l],style:m},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{className:[e]},children:[{type:a,tag:d,props:{style:h},children:[{type:b,value:"passwd john"}]}]},{type:b,value:c},{type:a,tag:d,props:{className:[e]},children:[]}]}]}]},{type:b,value:c},{type:a,tag:f,props:{},children:[{type:b,value:"Type in your new password, and then enter these commands:"}]},{type:b,value:c},{type:a,tag:i,props:{className:[j]},children:[{type:a,tag:k,props:{className:[l],style:m},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{className:[e]},children:[{type:a,tag:d,props:{style:"color: var(--code-0C)"},children:[{type:b,value:"exit"}]}]},{type:b,value:c},{type:a,tag:d,props:{className:[e]},children:[{type:a,tag:d,props:{style:h},children:[{type:b,value:"reboot"}]}]},{type:b,value:c},{type:a,tag:d,props:{className:[e]},children:[]}]}]}]},{type:b,value:c},{type:a,tag:w,props:{id:I},children:[{type:a,tag:n,props:{href:"#changing-luks-passphrase",ariaHidden:o,tabIndex:p},children:[{type:a,tag:d,props:{className:[q,r]},children:[]}]},{type:b,value:J}]},{type:b,value:c},{type:a,tag:f,props:{},children:[{type:b,value:"If you would like to change the password on a LUKS encrypted partition, run this command (replace the example partition with your root partition):"}]},{type:b,value:c},{type:a,tag:i,props:{className:[j]},children:[{type:a,tag:k,props:{className:[l],style:m},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{className:[e]},children:[{type:a,tag:d,props:{style:h},children:[{type:b,value:"cryptsetup luksChangeKey \u002Fdev\u002Fsda3 -S 0"}]}]},{type:b,value:c},{type:a,tag:d,props:{className:[e]},children:[]}]}]}]},{type:b,value:c},{type:a,tag:f,props:{},children:[{type:b,value:"Enter the original pass-phrase, and follow the prompts for the new pass-phrase ( and to confirm the new pass-phrase)."}]},{type:b,value:c},{type:a,tag:w,props:{id:K},children:[{type:a,tag:n,props:{href:"#adding-luks-passphrases",ariaHidden:o,tabIndex:p},children:[{type:a,tag:d,props:{className:[q,r]},children:[]}]},{type:b,value:L}]},{type:b,value:c},{type:a,tag:f,props:{},children:[{type:b,value:"Full Disk Encryption supports up to 8 total pass-phrases to unlock the encryption. This is useful if you would like to allow more than a single user to unlock the encryption and not share a pass-phrase. The default pass-phrase is in slot 0, with space for additional pass-phrases in slots 1 through 7 (for a total of 8)."}]},{type:b,value:c},{type:a,tag:x,props:{id:M},children:[{type:a,tag:n,props:{href:"#list-partitions",ariaHidden:o,tabIndex:p},children:[{type:a,tag:d,props:{className:[q,r]},children:[]}]},{type:b,value:N}]},{type:b,value:c},{type:a,tag:f,props:{},children:[{type:b,value:"First let's list the partitions of all of the installed drives:"}]},{type:b,value:c},{type:a,tag:i,props:{className:[j]},children:[{type:a,tag:k,props:{className:[l],style:m},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{className:[e]},children:[{type:a,tag:d,props:{style:h},children:[{type:b,value:"lsblk -o name,mountpoints"}]}]},{type:b,value:c},{type:a,tag:d,props:{className:[e]},children:[]}]}]}]},{type:b,value:c},{type:a,tag:f,props:{},children:[{type:b,value:"The output may be different based on the drive setup and partition table. You can see the root partition at mountpoint '\u002F'. From there we can use that output to run this command:"}]},{type:b,value:c},{type:a,tag:i,props:{className:[j]},children:[{type:a,tag:k,props:{className:[l],style:m},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{className:[e]},children:[{type:a,tag:d,props:{style:h},children:[{type:b,value:T}]}]},{type:b,value:c},{type:a,tag:d,props:{className:[e]},children:[]}]}]}]},{type:b,value:c},{type:a,tag:f,props:{},children:[{type:b,value:"Replacing '\u002Fdev\u002Fsda3' with the location of the root partition on your system. With the output of this command we can see the seven extra slots that we have for passwords to decrypt the drive. On a normal install Slot 0 is the initial passphrase and you can add up to 6 more for a total of 7."}]},{type:b,value:c},{type:a,tag:A,props:{id:"set-extra-password"},children:[{type:a,tag:n,props:{href:"#set-extra-password",ariaHidden:o,tabIndex:p},children:[{type:a,tag:d,props:{className:[q,r]},children:[]}]},{type:b,value:"Set Extra Password"}]},{type:b,value:c},{type:a,tag:f,props:{},children:[{type:b,value:"Following the partition scheme from the previous command we can form the next command to add a new key to the open Key Slot:"}]},{type:b,value:c},{type:a,tag:i,props:{className:[j]},children:[{type:a,tag:k,props:{className:[l],style:m},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{className:[e]},children:[{type:a,tag:d,props:{style:h},children:[{type:b,value:"sudo cryptsetup luksAddKey \u002Fdev\u002Fsda3"}]}]},{type:b,value:c},{type:a,tag:d,props:{className:[e]},children:[]}]}]}]},{type:b,value:c},{type:a,tag:f,props:{},children:[{type:b,value:"This command will require the current encryption password before new password can be added."}]},{type:b,value:c},{type:a,tag:A,props:{id:"confirm-the-password"},children:[{type:a,tag:n,props:{href:"#confirm-the-password",ariaHidden:o,tabIndex:p},children:[{type:a,tag:d,props:{className:[q,r]},children:[]}]},{type:b,value:"Confirm The Password"}]},{type:b,value:c},{type:a,tag:f,props:{},children:[{type:b,value:"Let's run this command again to confirm that the additional pass-phrase is set:"}]},{type:b,value:c},{type:a,tag:i,props:{className:[j]},children:[{type:a,tag:k,props:{className:[l],style:m},children:[{type:a,tag:g,props:{},children:[{type:a,tag:d,props:{className:[e]},children:[{type:a,tag:d,props:{style:h},children:[{type:b,value:T}]}]},{type:b,value:c},{type:a,tag:d,props:{className:[e]},children:[]}]}]}]},{type:b,value:c},{type:a,tag:f,props:{},children:[{type:b,value:"You should see that Key Slot 1 is now enabled so this confirms the new pass-phrase is set."}]}]},dir:"\u002F",path:"\u002Fpassword",extension:".md",createdAt:"2016-10-14T18:52:37.000Z",updatedAt:"2023-10-09T20:38:30.000Z",authors:[]},_img:{"/_ipx/w_320,f_png/images/password/systemd-boot.png":"\u002F_nuxt\u002Fimage\u002Fb89220.png","/_ipx/w_640,f_png/images/password/systemd-boot.png":"\u002F_nuxt\u002Fimage\u002F81a125.png","/_ipx/w_768,f_png/images/password/systemd-boot.png":"\u002F_nuxt\u002Fimage\u002F493c5a.png","/_ipx/w_1024,f_png/images/password/systemd-boot.png":"\u002F_nuxt\u002Fimage\u002F57dd51.png","/_ipx/w_1280,f_png/images/password/systemd-boot.png":"\u002F_nuxt\u002Fimage\u002Fc1f8ae.png","/_ipx/w_1536,f_png/images/password/systemd-boot.png":"\u002F_nuxt\u002Fimage\u002F6282f8.png","/_ipx/w_320,f_webp/images/password/systemd-boot.png":"\u002F_nuxt\u002Fimage\u002Feeb0ac.webp","/_ipx/w_640,f_webp/images/password/systemd-boot.png":"\u002F_nuxt\u002Fimage\u002Fd767d6.webp","/_ipx/w_768,f_webp/images/password/systemd-boot.png":"\u002F_nuxt\u002Fimage\u002F2885c7.webp","/_ipx/w_1024,f_webp/images/password/systemd-boot.png":"\u002F_nuxt\u002Fimage\u002F0edf06.webp","/_ipx/w_1280,f_webp/images/password/systemd-boot.png":"\u002F_nuxt\u002Fimage\u002Fcc4e62.webp","/_ipx/w_1536,f_webp/images/password/systemd-boot.png":"\u002F_nuxt\u002Fimage\u002F299e7e.webp"}}],fetch:{},mutations:void 0}}("element","text","\n","span","line","p","code","color: var(--code-0F)","div","nuxt-content-highlight","pre","shiki","background-color: var(--code-00)","a","true",-1,"icon","icon-link","kbd","ubuntu",2,3,"h2","h3","u","systemd-boot","h4","+","password","changing-user-password","Changing user password","pop_os-1804-and-later","Pop!_OS 18.04 and Later","Ubuntu","changing-luks-passphrase","Changing LUKS passphrase","adding-luks-passphrases","Adding LUKS passphrases","list-partitions","List Partitions","GRUB",".","nuxt-link","font-awesome-icon","T","sudo cryptsetup luksDump \u002Fdev\u002Fsda3")));