__NUXT_JSONP__("/articles/pop-incomplete-upgrade", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at){return {data:[{article:{slug:"pop-incomplete-upgrade",description:"What to do if your upgrade is incomplete or not working correctly\n",title:"Pop!_OS Incomplete Upgrade",keywords:["Pop!_OS 21.04","Pop!_OS 20.10","Pop!_OS 20.04","LTS","Non-LTS","Upgrade","Update","Release","System76","apt"],facebookImage:"\u002F_nuxt\u002Fimages\u002Fpop-incomplete-upgrade-facebookImage.jpg",twitterImage:"\u002F_nuxt\u002Fimages\u002Fpop-incomplete-upgrade-twitterImage.jpg",hidden:false,section:"software-troubleshooting",tableOfContents:true,toc:[{id:E,depth:q,text:F},{id:G,depth:q,text:H},{id:I,depth:q,text:J},{id:K,depth:q,text:L},{id:M,depth:q,text:N},{id:O,depth:q,text:P},{id:Q,depth:q,text:R}],body:{type:"root",children:[{type:a,tag:r,props:{id:E},children:[{type:a,tag:p,props:{href:"#repairing-upgrade-errors",ariaHidden:s,tabIndex:t},children:[{type:a,tag:c,props:{className:[u,v]},children:[]}]},{type:b,value:F}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"Due to the overwhelming demand for Pop!_OS, users may occasionally experience bandwidth issues. If you are still experiencing any connection errors after waiting a short time (15-30 minutes), please run the following commands in a terminal."}]},{type:b,value:d},{type:a,tag:j,props:{className:[k]},children:[{type:a,tag:l,props:{className:[m],style:n},children:[{type:a,tag:h,props:{},children:[{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:"sudo rm -f \u002Fetc\u002Fapt\u002Fsources.list.d\u002Fpop-os-ppa.sources"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:"sudo systemctl restart pop-upgrade"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:"pop-upgrade release upgrade"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[]}]}]}]},{type:b,value:d},{type:a,tag:r,props:{id:G},children:[{type:a,tag:p,props:{href:"#backup-your-files",ariaHidden:s,tabIndex:t},children:[{type:a,tag:c,props:{className:[u,v]},children:[]}]},{type:b,value:H}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"The upgrade process will leave your files intact, but it's always a good idea to play it safe and create a backup of any important files. Please read our article on "},{type:a,tag:A,props:{to:"\u002Farticles\u002Fbackup-files\u002F"},children:[{type:b,value:"how to backup your files"}]},{type:b,value:" for helpful instructions."}]},{type:b,value:d},{type:a,tag:r,props:{id:I},children:[{type:a,tag:p,props:{href:"#if-you-cant-boot-the-os",ariaHidden:s,tabIndex:t},children:[{type:a,tag:c,props:{className:[u,v]},children:[]}]},{type:b,value:J}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"Refer to the "},{type:a,tag:A,props:{to:"\u002Farticles\u002Fdisaster-recovery"},children:[{type:b,value:"data recovery article"}]},{type:b,value:" to boot from an live disk or the Pop Recovery to backup your files before working on either repairing or reinstalling the OS."}]},{type:b,value:d},{type:a,tag:r,props:{id:K},children:[{type:a,tag:p,props:{href:"#recovery-partition-is-full",ariaHidden:s,tabIndex:t},children:[{type:a,tag:c,props:{className:[u,v]},children:[]}]},{type:b,value:L}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"If you see a notification about the Recovery Parititon being full or see it in this output:"}]},{type:b,value:d},{type:a,tag:j,props:{className:[k]},children:[{type:a,tag:l,props:{className:[m],style:n},children:[{type:a,tag:h,props:{},children:[{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:"df -h"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[]}]}]}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"You can run this command to empty the Recovery Partition and then redownload the Recovery files to correct the issue:"}]},{type:b,value:d},{type:a,tag:j,props:{className:[k]},children:[{type:a,tag:l,props:{className:[m],style:n},children:[{type:a,tag:h,props:{},children:[{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:"sudo bash -c "}]},{type:a,tag:c,props:{style:"color: var(--code-0E)"},children:[{type:b,value:"\"rm -rf \u002Frecovery\u002Fcasper-*\""}]},{type:a,tag:c,props:{style:f},children:[{type:b,value:o}]},{type:a,tag:c,props:{style:i},children:[{type:b,value:"&&"}]},{type:a,tag:c,props:{style:f},children:[{type:b,value:" pop-upgrade recovery upgrade from-release"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[]}]}]}]},{type:b,value:d},{type:a,tag:r,props:{id:M},children:[{type:a,tag:p,props:{href:"#fstab-error-message",ariaHidden:s,tabIndex:t},children:[{type:a,tag:c,props:{className:[u,v]},children:[]}]},{type:b,value:N}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"This can be caused by the "},{type:a,tag:h,props:{},children:[{type:b,value:"pop-upgrade"}]},{type:b,value:" command checking for an "},{type:a,tag:h,props:{},children:[{type:b,value:"\u002Fetc\u002Ffstab"}]},{type:b,value:" file and finding an entry that it does not understand. If you have manually added drives to your fstab, adding a '#' to comment out the drive while the upgrade is ongoing should work.  You would then remove the comment after the upgrade is complete to have access to those drive paths again. To edit this file, run the following command in a terminal:"}]},{type:b,value:d},{type:a,tag:j,props:{className:[k]},children:[{type:a,tag:l,props:{className:[m],style:n},children:[{type:a,tag:h,props:{},children:[{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:"sudo -H gedit \u002Fetc\u002Ffstab"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[]}]}]}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"For example:"}]},{type:b,value:d},{type:a,tag:j,props:{className:[k]},children:[{type:a,tag:l,props:{className:[m],style:n},children:[{type:a,tag:h,props:{},children:[{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:"\u002Fdev\u002Fdisk\u002Fby-id\u002Fusb-ST1000LM_02123AD2-0:0-part1 \u002Fmedia\u002Fsystem76\u002Fgame_drive auto nosuid,nodev,nofail,x-gvfs-show 0 0"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[]}]}]}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"would become:"}]},{type:b,value:d},{type:a,tag:j,props:{className:[k]},children:[{type:a,tag:l,props:{className:[m],style:n},children:[{type:a,tag:h,props:{},children:[{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:S},children:[{type:b,value:"#\u002Fdev\u002Fdisk\u002Fby-id\u002Fusb-ST1000LM_02123AD2-0:0-part1 \u002Fmedia\u002Fsystem76\u002Fgame_drive auto nosuid,nodev,nofail,x-gvfs-show 0 0"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[]}]}]}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"If it is showing by UUID, the example would change from:"}]},{type:b,value:d},{type:a,tag:j,props:{className:[k]},children:[{type:a,tag:l,props:{className:[m],style:n},children:[{type:a,tag:h,props:{},children:[{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:"\u002Fdev\u002Fdisk\u002Fby-uuid\u002Fed6c6976-973f-40e5-969b-9d4238fb7e00 \u002Fmedia\u002Fsystem76\u002FExtraDrive auto nosuid,nodev,nofail,x-gvfs-show 0 0"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[]}]}]}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"To:"}]},{type:b,value:d},{type:a,tag:j,props:{className:[k]},children:[{type:a,tag:l,props:{className:[m],style:n},children:[{type:a,tag:h,props:{},children:[{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:S},children:[{type:b,value:"#\u002Fdev\u002Fdisk\u002Fby-uuid\u002Fed6c6976-973f-40e5-969b-9d4238fb7e00 \u002Fmedia\u002Fsystem76\u002FExtraDrive auto nosuid,nodev,nofail,x-gvfs-show 0 0"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[]}]}]}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"After you have made the edit, save the file and start the upgrade again."}]},{type:b,value:d},{type:a,tag:r,props:{id:O},children:[{type:a,tag:p,props:{href:"#repair-package-manager-after-failedincomplete-upgrade",ariaHidden:s,tabIndex:t},children:[{type:a,tag:c,props:{className:[u,v]},children:[]}]},{type:b,value:P}]},{type:b,value:d},{type:a,tag:"ol",props:{},children:[{type:b,value:d},{type:a,tag:w,props:{},children:[{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"If you’re able to log in and have a graphical interface, let’s try running a set of commands in a terminal (click your Activities menu and type ‘t’ for ‘terminal’) to clean up the installed packages:"}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:a,tag:x,props:{},children:[{type:b,value:"If this is your first time running commands:"}]},{type:b,value:", just a heads up- after each command, press the enter key. When the system prompts you for your password, type it in the terminal and press the enter key. The password will not show in the terminal, but it is taking the password)"}]},{type:b,value:d},{type:a,tag:j,props:{className:[k]},children:[{type:a,tag:l,props:{className:[m],style:n},children:[{type:a,tag:h,props:{},children:[{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:T}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:U}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:V}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:W}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:X}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:Y}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[]}]}]}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"If you are not able to get to the desktop to run those commands, try to get to a TTY (Ctrl+Alt+F5). Enter the username and password as requested and proceed with the commands above."}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:a,tag:x,props:{},children:[{type:b,value:Z}]},{type:b,value:" your username would be your first and last name combined though all lower case unless it was changed during the initial setup."}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"If you cannot access the desktop or TTY, we can run the package repair commands in Pop Recovery instead. To do this,"}]},{type:b,value:d},{type:a,tag:"ul",props:{},children:[{type:b,value:d},{type:a,tag:w,props:{},children:[{type:b,value:"1A. Turn your computer off, then turn it back on and hold down the space bar immediately. In the menu that appears, select Pop!_OS Recovery, and let it boot."}]},{type:b,value:d},{type:a,tag:w,props:{},children:[{type:b,value:"1B. Once it boots, close out of the installation window or choose “Try Demo Mode” (be sure not to choose any install or repair options, as this could result in data loss)."}]},{type:b,value:d}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:a,tag:x,props:{},children:[{type:b,value:"If you do not have a Pop Recovery option:"}]},{type:b,value:" you can create a live disk image of the OS and follow the next steps to mount the installed OS while running in a live disk. To create a live disk, use the instructions in the following "},{type:a,tag:A,props:{to:"\u002Farticles\u002Flive-disk"},children:[{type:b,value:"article"}]},{type:b,value:", then proceed to the next step."}]},{type:b,value:d}]},{type:b,value:d},{type:a,tag:w,props:{},children:[{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"Connect to your network"}]},{type:b,value:d}]},{type:b,value:d},{type:a,tag:w,props:{},children:[{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"Mount the installed OS and \"chroot\" into the main OS. Chroot or \"change root\" lets us run commands as if we were logged in normally."}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"To mount the OS, make note of what type of drive your OS is installed on. Is it an NVME or a SATA drive? You can run the following command to confirm:"}]},{type:b,value:d},{type:a,tag:j,props:{className:[k]},children:[{type:a,tag:l,props:{className:[m],style:n},children:[{type:a,tag:h,props:{},children:[{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:"sudo parted -ls"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[]}]}]}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"Look for the name of your main hard drive. It could be "},{type:a,tag:h,props:{},children:[{type:b,value:"\u002Fdev\u002Fsda"}]},{type:b,value:" or "},{type:a,tag:h,props:{},children:[{type:b,value:"\u002Fdev\u002Fnvme0n1"}]},{type:b,value:", depending on if you have a standard SATA drive, or an NVMe drive, respectively. Input the following commands based on your drive type:"}]},{type:b,value:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{type:a,tag:"table",props:{},children:[{type:a,tag:"thead",props:{},children:[{type:a,tag:_,props:{},children:[{type:a,tag:$,props:{align:B},children:[{type:a,tag:x,props:{},children:[{type:b,value:"SATA Drives"}]}]},{type:a,tag:$,props:{align:B},children:[{type:a,tag:x,props:{},children:[{type:b,value:"NVMe Drives"}]}]}]}]},{type:a,tag:"tbody",props:{},children:[{type:a,tag:_,props:{},children:[{type:a,tag:aa,props:{align:B},children:[{type:a,tag:h,props:{},children:[{type:b,value:"sudo mount \u002Fdev\u002Fsda3 \u002Fmnt"}]}]},{type:a,tag:aa,props:{align:B},children:[{type:a,tag:h,props:{},children:[{type:b,value:"sudo mount \u002Fdev\u002Fnvme0n1p3 \u002Fmnt"}]}]}]}]}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"If the command fails and says "},{type:a,tag:h,props:{},children:[{type:b,value:"mount: \u002Fmnt: unknown filesystem type 'crypto_LUKS'"}]},{type:b,value:", then the hard drive has been encrypted, and additional commands are needed to unlock it."}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:a,tag:x,props:{},children:[{type:b,value:"If disk is encrypted:"}]},{type:b,value:" start with these first 3 commands using the correct drive name in the \u002Fdev filepath"}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:ab}]},{type:b,value:d},{type:a,tag:j,props:{className:[k]},children:[{type:a,tag:l,props:{className:[m],style:n},children:[{type:a,tag:h,props:{},children:[{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:"sudo cryptsetup luksOpen \u002Fdev\u002Fsda3 cryptdata"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:ac}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:ad}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[]}]}]}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:ae}]},{type:b,value:d},{type:a,tag:j,props:{className:[k]},children:[{type:a,tag:l,props:{className:[m],style:n},children:[{type:a,tag:h,props:{},children:[{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:"sudo cryptsetup luksOpen \u002Fdev\u002Fnvme0n1p3 cryptdata"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:ac}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:ad}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[]}]}]}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"Next we will mount the now decrypted drive:"}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:a,tag:x,props:{},children:[{type:b,value:Z}]},{type:b,value:" Pay attention to what the cryptdata group is called. If it is named something other than ‘data-root’ then you will need to substitute the correct info into this next command. Make sure that -root is on the end."}]},{type:b,value:d},{type:a,tag:j,props:{className:[k]},children:[{type:a,tag:l,props:{className:[m],style:n},children:[{type:a,tag:h,props:{},children:[{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:"sudo mount \u002Fdev\u002Fmapper\u002Fdata-root \u002Fmnt"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[]}]}]}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"Next we will need to mount the required paths for the chroot to function."}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:ab}]},{type:b,value:d},{type:a,tag:j,props:{className:[k]},children:[{type:a,tag:l,props:{className:[m],style:n},children:[{type:a,tag:h,props:{},children:[{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:"sudo mount \u002Fdev\u002Fsda1 \u002Fmnt\u002Fboot\u002Fefi"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:i},children:[{type:b,value:af}]},{type:a,tag:c,props:{style:f},children:[{type:b,value:o}]},{type:a,tag:c,props:{style:y},children:[{type:b,value:z}]},{type:a,tag:c,props:{style:f},children:[{type:b,value:o}]},{type:a,tag:c,props:{style:i},children:[{type:b,value:ag}]},{type:a,tag:c,props:{style:f},children:[{type:b,value:ah}]},{type:a,tag:c,props:{style:i},children:[{type:b,value:C}]},{type:a,tag:c,props:{style:f},children:[{type:b,value:o}]},{type:a,tag:c,props:{style:i},children:[{type:b,value:ai}]},{type:a,tag:c,props:{style:f},children:[{type:b,value:aj}]},{type:a,tag:c,props:{style:i},children:[{type:b,value:D}]},{type:a,tag:c,props:{style:y},children:[{type:b,value:z}]},{type:a,tag:c,props:{style:f},children:[{type:b,value:ak}]},{type:a,tag:c,props:{style:i},children:[{type:b,value:D}]},{type:a,tag:c,props:{style:y},children:[{type:b,value:z}]},{type:a,tag:c,props:{style:i},children:[{type:b,value:C}]},{type:a,tag:c,props:{style:f},children:[{type:b,value:o}]},{type:a,tag:c,props:{style:i},children:[{type:b,value:al}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:am}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:an}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[]}]}]}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:ae}]},{type:b,value:d},{type:a,tag:j,props:{className:[k]},children:[{type:a,tag:l,props:{className:[m],style:n},children:[{type:a,tag:h,props:{},children:[{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:"sudo mount \u002Fdev\u002Fnvme0n1p1 \u002Fmnt\u002Fboot\u002Fefi"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:i},children:[{type:b,value:af}]},{type:a,tag:c,props:{style:f},children:[{type:b,value:o}]},{type:a,tag:c,props:{style:y},children:[{type:b,value:z}]},{type:a,tag:c,props:{style:f},children:[{type:b,value:o}]},{type:a,tag:c,props:{style:i},children:[{type:b,value:ag}]},{type:a,tag:c,props:{style:f},children:[{type:b,value:ah}]},{type:a,tag:c,props:{style:i},children:[{type:b,value:C}]},{type:a,tag:c,props:{style:f},children:[{type:b,value:o}]},{type:a,tag:c,props:{style:i},children:[{type:b,value:ai}]},{type:a,tag:c,props:{style:f},children:[{type:b,value:aj}]},{type:a,tag:c,props:{style:i},children:[{type:b,value:D}]},{type:a,tag:c,props:{style:y},children:[{type:b,value:z}]},{type:a,tag:c,props:{style:f},children:[{type:b,value:ak}]},{type:a,tag:c,props:{style:i},children:[{type:b,value:D}]},{type:a,tag:c,props:{style:y},children:[{type:b,value:z}]},{type:a,tag:c,props:{style:i},children:[{type:b,value:C}]},{type:a,tag:c,props:{style:f},children:[{type:b,value:o}]},{type:a,tag:c,props:{style:i},children:[{type:b,value:al}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:am}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:an}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[]}]}]}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"If you get an error about the "},{type:a,tag:h,props:{},children:[{type:b,value:"\u002Fetc\u002Fresolv\u002Fconf"}]},{type:b,value:" file being the same, you can safely ignore it."}]},{type:b,value:d}]},{type:b,value:d},{type:a,tag:w,props:{},children:[{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"Once the installed OS is mounted, we can attempt to repair it by running the following commands:"}]},{type:b,value:d},{type:a,tag:j,props:{className:[k]},children:[{type:a,tag:l,props:{className:[m],style:n},children:[{type:a,tag:h,props:{},children:[{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:T}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:U}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:V}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:W}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:X}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:Y}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[]}]}]}]},{type:b,value:d}]},{type:b,value:d},{type:a,tag:w,props:{},children:[{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"If there are no errors, run the next commands to exit the terminal and reboot."}]},{type:b,value:d},{type:a,tag:j,props:{className:[k]},children:[{type:a,tag:l,props:{className:[m],style:n},children:[{type:a,tag:h,props:{},children:[{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:y},children:[{type:b,value:"exit"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:"reboot"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[]}]}]}]},{type:b,value:d}]},{type:b,value:d}]},{type:b,value:d},{type:a,tag:r,props:{id:Q},children:[{type:a,tag:p,props:{href:"#if-you-are-still-not-able-to-upgrade",ariaHidden:s,tabIndex:t},children:[{type:a,tag:c,props:{className:[u,v]},children:[]}]},{type:b,value:R}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"You can refresh the OS without losing user account information and data in the "},{type:a,tag:h,props:{},children:[{type:b,value:"\u002Fhome"}]},{type:b,value:" directory. You can find out more about this option "},{type:a,tag:A,props:{to:"\u002Farticles\u002Fpop-recovery"},children:[{type:b,value:ao}]},{type:b,value:ap}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"If the system is still not able to upgrade and you have a System76 system, please open a "},{type:a,tag:p,props:{href:"https:\u002F\u002Fsystem76.com\u002Fmy-account\u002Fsupport-tickets\u002Fnew",rel:[aq,ar,as],target:at},children:[{type:b,value:"support ticket"}]},{type:b,value:" and include this file:"}]},{type:b,value:d},{type:a,tag:j,props:{className:[k]},children:[{type:a,tag:l,props:{className:[m],style:n},children:[{type:a,tag:h,props:{},children:[{type:a,tag:c,props:{className:[e]},children:[{type:a,tag:c,props:{style:f},children:[{type:b,value:"journalctl -u pop-upgrade "}]},{type:a,tag:c,props:{style:i},children:[{type:b,value:"\u003E"}]},{type:a,tag:c,props:{style:f},children:[{type:b,value:o}]},{type:a,tag:c,props:{style:i},children:[{type:b,value:"~"}]},{type:a,tag:c,props:{style:f},children:[{type:b,value:"\u002Fpop-upgrade.log"}]}]},{type:b,value:d},{type:a,tag:c,props:{className:[e]},children:[]}]}]}]},{type:b,value:d},{type:a,tag:g,props:{},children:[{type:b,value:"If it is not a System76 system, go to our Pop!_OS Mattermost chat for community support "},{type:a,tag:p,props:{href:"https:\u002F\u002Fchat.pop-os.org\u002Fpop-os\u002Fchannels\u002Fupgrade-help",rel:[aq,ar,as],target:at},children:[{type:b,value:ao}]},{type:b,value:ap}]}]},dir:"\u002F",path:"\u002Fpop-incomplete-upgrade",extension:".md",createdAt:"2020-10-28T21:06:09.000Z",updatedAt:"2023-08-02T18:38:01.000Z",authors:[]},_img:{}}],fetch:{},mutations:void 0}}("element","text","span","\n","line","color: var(--code-0F)","p","code","color: var(--code-0A)","div","nuxt-content-highlight","pre","shiki","background-color: var(--code-00)"," ","a",2,"h2","true",-1,"icon","icon-link","li","strong","color: var(--code-0C)","i","nuxt-link","center",";","$","repairing-upgrade-errors","Repairing Upgrade Errors","backup-your-files","Backup Your Files","if-you-cant-boot-the-os","If you can't boot the OS","recovery-partition-is-full","Recovery Partition is full","fstab-error-message","FStab Error Message","repair-package-manager-after-failedincomplete-upgrade","Repair Package Manager after Failed\u002FIncomplete Upgrade","if-you-are-still-not-able-to-upgrade","If you are still not able to upgrade","color: #657B83","sudo apt clean","sudo apt update -m","sudo dpkg --configure -a","sudo apt install -f","sudo apt dist-upgrade","sudo apt autoremove --purge","NOTE:","tr","th","td","For SATA Drives:","sudo lvscan","sudo vgchange -ay","For NVMe Drives:","for","in"," \u002Fdev \u002Fdev\u002Fpts \u002Fproc \u002Fsys \u002Frun","do"," sudo mount -B "," \u002Fmnt","done","sudo cp -n \u002Fetc\u002Fresolv.conf \u002Fmnt\u002Fetc\u002F","sudo chroot \u002Fmnt","here",".","nofollow","noopener","noreferrer","_blank")));